<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paca Bingo</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
    <script defer src="dist/bundle.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .game-modes-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .mode-card {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            transition: transform 0.2s;
        }
        .mode-card:hover {
            transform: translateY(-2px);
        }
        .mode-card h3 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .mode-card p {
            margin: 5px 0;
            color: #666;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #45a049;
        }
        .status {
            margin-top: 20px;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }
        .success {
            background-color: #dff0d8;
            color: #3c763d;
        }
        .error {
            background-color: #f2dede;
            color: #a94442;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Paca Bingo</h1>
            <div id="walletSection" class="wallet-section">
                <div class="online-counter">
                    <span class="online-icon">●</span>
                    <span id="onlineCount">0</span> Players Online
                </div>
                <button id="connectWalletBtn" class="primary-button">Connect Wallet</button>
                <div id="walletInfo" style="display: none;">
                    <span id="walletAddress"></span>
                    <button id="disconnectWalletBtn" class="secondary-button">Disconnect</button>
                </div>
                <div id="adminPanel" style="display: none;">
                    <button id="adminToggleBtn" class="connect-btn">Admin Panel</button>
                </div>
            </div>
        </header>

        <main>
            <section class="game-modes-section">
                <h2>Select Game Mode</h2>
                <div class="mode-grid">
                    <div class="mode-card" data-mode="Solo">
                        <div class="mode-content">
                            <div class="mode-header">
                                <h3>Solo Mode</h3>
                                <span class="player-count">1 Player</span>
                            </div>
                            <p class="mode-description">Race against time with 50% win chance! Complete patterns before time runs out, but winning isn't guaranteed - each pattern has a 50/50 chance of paying out. Perfect for thrill-seekers!</p>
                            <div class="mode-footer">
                                <span class="price">Connect Wallet</span>
                                <button id="soloMode" class="select-mode-btn primary-button">Select</button>
                            </div>
                        </div>
                    </div>

                    <div class="mode-card" data-mode="5v5">
                        <div class="mode-content">
                            <div class="mode-header">
                                <h3>5v5 Mode</h3>
                                <span class="player-count">5 Players</span>
                            </div>
                            <p class="mode-description">Compete in an intimate 10-player match. 10% chance to win each prize pool. Quick, intense games with better odds!</p>
                            <div class="mode-footer">
                                <span class="price">Connect Wallet</span>
                                <button id="5v5Mode" class="select-mode-btn primary-button">Select</button>
                            </div>
                        </div>
                    </div>

                    <div class="mode-card" data-mode="10v10">
                        <div class="mode-content">
                            <div class="mode-header">
                                <h3>10v10 Mode</h3>
                                <span class="player-count">10 Players</span>
                            </div>
                            <p class="mode-description">Medium-sized 20-player matches with 5% win chance. Balanced gameplay with moderate prize pools.</p>
                            <div class="mode-footer">
                                <span class="price">Connect Wallet</span>
                                <button id="10v10Mode" class="select-mode-btn primary-button">Select</button>
                            </div>
                        </div>
                    </div>

                    <div class="mode-card" data-mode="20v20">
                        <div class="mode-content">
                            <div class="mode-header">
                                <h3>20v20 Mode</h3>
                                <span class="player-count">20 Players</span>
                            </div>
                            <p class="mode-description">Large-scale 40-player battles with 2.5% win chance. Massive prize pools for the lucky winners!</p>
                            <div class="mode-footer">
                                <span class="price">Connect Wallet</span>
                                <button id="20v20Mode" class="select-mode-btn primary-button">Select</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <div id="gameInfo" class="game-info" style="display: none;">
                <div class="info-row">
                    <span>Game Mode: <span id="currentMode">--</span></span>
                    <span>Players: <span id="playerCount">0</span>/<span id="maxPlayers">--</span></span>
                    <span>Prize Pool: <span id="prizePool">0</span> BNB</span>
                </div>
            </div>

            <div class="game-info">
                <div class="prize-pool">
                    <h3>Prize Pool</h3>
                    <div class="prize-details">
                        <div class="prize-item">
                            <span>One Line Prize (30%)</span>
                            <span id="oneLinePrize">0 USDT</span>
                            <span id="oneLineWinner" class="winner-info"></span>
                        </div>
                        <div class="prize-item">
                            <span>Full House Prize (70%)</span>
                            <span id="fullHousePrize">0 USDT</span>
                            <span id="fullHouseWinner" class="winner-info"></span>
                        </div>
                    </div>
                    <div class="staking-info">
                        <p class="staking-note">All winnings are automatically staked. Check your stakes at:</p>
                        <a href="https://paca.finance/" target="_blank" class="staking-link">
                            <span>paca.finance</span>
                            <i class="external-link-icon">↗</i>
                        </a>
                    </div>
                </div>
            </div>

            <div class="game-container">
                <div class="bingo-board">
                    <div class="board-header">
                        <span>B</span>
                        <span>I</span>
                        <span>N</span>
                        <span>G</span>
                        <span>O</span>
                    </div>
                    <div id="bingoGrid" class="bingo-grid"></div>
                </div>

                <div class="game-controls">
                    <button id="buyTicket" class="game-btn" disabled>Buy Ticket (0.000188 BNB)</button>
                    <button id="claimOneLine" class="game-btn" disabled>Claim One Line</button>
                    <button id="claimFullHouse" class="game-btn" disabled>Claim Full House</button>
                    <div class="number-display">
                        <h3>Last Called Number</h3>
                        <div id="lastNumber">--</div>
                    </div>
                </div>
            </div>

            <div id="adminControls" style="display: none;">
                <h3>Admin Controls</h3>
                <div class="admin-section">
                    <h4>Update Game Mode Prices</h4>
                    <select id="adminModeSelect">
                        <option value="Solo">Solo Mode</option>
                        <option value="5v5">5v5 Mode</option>
                        <option value="10v10">10v10 Mode</option>
                        <option value="20v20">20v20 Mode</option>
                    </select>
                    <input type="number" id="newPrice" placeholder="New Price (BNB)" step="0.000001">
                    <button id="updatePriceBtn" class="admin-btn">Update Price</button>
                </div>
            </div>
        </main>
    </div>
</body>
</html>
